{"version":3,"sources":["src/app.ts","src/environment.ts","src/main.ts","src/charts/bar-chart.ts","src/empty/no-selection.ts","src/resources/index.ts","src/vis/vis.ts","src/resources/elements/loading-indicator.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {Router, RouterConfiguration} from \"aurelia-router\"\n\nexport class App {\n  router = Router;\n\n  configureRouter(config: RouterConfiguration, router) {\n      this.router = router;\n\n      config.title = \"Contacts\";\n      config.map([\n          { route: \"\", moduleId: \"empty/no-selection\", title: \"Select\" },\n          { route: \"vis/\", moduleId: \"vis/vis\", title: \"Vis\", name: \"vis\" }\n      ]);\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import {Aurelia} from 'aurelia-framework'\nimport environment from './environment';\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import * as d3 from \"d3\";\nimport {inject, noView, bindable, bindingMode, BindingEngine} from 'aurelia-framework';\n\n@inject(Element, BindingEngine)\n@noView()\nexport class BarChart {\n  // External variables\n  @bindable data = [];\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) mo;\n\n  // Aurelia variables\n  private element;\n  private subscription;\n\n  // D3 variables\n  private svg;\n  private tooltip;\n  private x;\n  private y;\n\n  // set the dimensions and margins of the graph\n  margin = { top: 20, right: 20, bottom: 30, left: 40 };\n  width = 960 - this.margin.left - this.margin.right;\n  height = 500 - this.margin.top - this.margin.bottom;\n\n  constructor(element, private bindingEngine) {\n    this.element = element;\n    this.initChart()\n  }\n\n  unbind() {\n    this.subscription.dispose();\n  }\n\n  // This is called after creating the chart element and\n  // the data gets loaded the first time.\n  dataChanged(newList) {\n    if (this.data) {\n      // subscribe to the data array and watch for changes\n      this.subscription = this.bindingEngine\n        .collectionObserver(this.data)\n        .subscribe(splices => this.dataMutated(splices));\n    }\n\n    this.updateChart();\n  }\n\n  // Update the chart if the data changes\n  dataMutated(splices) {\n    this.updateChart();\n  }\n\n\n\n  initChart() {\n    // append the svg object to the chart div of the page\n    // append a 'group' element to 'svg'\n    // moves the 'group' element to the top left margin\n    this.svg = d3.select(this.element)\n      .append(\"svg\")\n      .attr(\"width\", this.width + this.margin.left + this.margin.right)\n      .attr(\"height\", this.height + this.margin.top + this.margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\",\n      \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n\n    // set the ranges\n    this.x = d3.scaleBand()\n      .range([0, this.width])\n      .padding(0.1);\n    this.y = d3.scaleLinear()\n      .range([this.height, 0]);\n\n    // add the x Axis\n    this.svg.append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + this.height + \")\")\n      .attr(\"class\", \"xAxis\");\n\n    // add the y Axis\n    this.svg.append(\"g\")\n      .attr(\"class\", \"yAxis\");\n\n    // create tooltip\n    this.tooltip = d3.select(this.element).append(\"div\")\n      .attr(\"class\", \"tooltip\")\n      .style(\"opacity\", 0);\n  }\n\n  updateChart() {\n    // Update domains\n    this.x.domain(this.data.map((d) => d[\"salesperson\"]));\n    this.y.domain([0, d3.max<any, any>(this.data, (d) => d[\"sales\"])]);\n\n    // Select chart\n    let chart = this.svg.selectAll(\".bar\")\n      .data(this.data)\n\n    // Update axis\n    this.svg.selectAll(\".xAxis\")\n      .call(d3.axisBottom(this.x));\n    this.svg.selectAll(\".yAxis\")\n      .call(d3.axisLeft(this.y));\n\n    // Add and update bars\n    chart.enter()\n      .append(\"rect\")\n      .attr(\"class\", \"bar\")\n      .on(\"mouseover\", (d) => {\n        this.mo = d[\"salesperson\"];\n\n        this.tooltip.transition()\n          .duration(100)\n          .style(\"opacity\", .9);\n        this.tooltip.html(d[\"salesperson\"])\n          .style(\"left\", (this.x(d[\"salesperson\"]) + this.x.bandwidth() / 2) + \"px\")\n          .style(\"top\", (this.y(d[\"sales\"]) + 60) + \"px\");\n      })\n      .on(\"mouseout\", (d) => {\n        this.tooltip.transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n      })\n      .merge(chart)\n      .attr(\"width\", this.x.bandwidth())\n      .attr(\"x\", (d) => this.x(d[\"salesperson\"]))\n      .transition()\n      .attr(\"y\", (d) => this.y(d[\"sales\"]))\n      .attr(\"height\", (d) => this.height - this.y(d[\"sales\"]));\n\n    // Remove bars\n    chart.exit().remove();\n  }\n}\n","export class NoSelection {\n    message = \"No Route Selected\"\n}\n","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  config.globalResources(['./elements/loading-indicator']);\n}\n","export class Vis {\n    test = \"Vis!\"\n\n    data = [\n        {\"salesperson\" : \"Bob\", \"sales\": 12},\n        {\"salesperson\" : \"Robin\", \"sales\": 1},\n        {\"salesperson\" : \"Anne\", \"sales\": 8},\n        {\"salesperson\" : \"Chris\", \"sales\": 5}\n    ]\n\n    add() {\n        this.data.push({\"salesperson\" : \"Test\", \"sales\": 20});\n    }\n}\n","\nimport * as nprogress from 'nprogress';\nimport {bindable, noView} from 'aurelia-framework';\n\n@noView(['nprogress/nprogress.css'])\nexport class LoadingIndicator {\n@bindable loading = false;\n\nloadingChanged(newValue) {\nif (newValue) {\n  nprogress.start();\n} else {\n  nprogress.done();\n}\n}\n}\n"],"sourceRoot":".."}